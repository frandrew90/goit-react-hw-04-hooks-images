{"version":3,"sources":["Components/searchbar/Searchbar.js","services/ApiServices.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/modal/Modal.js","Components/button/Button.js","Components/loader/Loader.js","Components/App.js","index.js"],"names":["Searchbar","state","find","handleSearchForm","e","preventDefault","props","onSubmit","setState","handleInputChange","target","value","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","getPhoto","findPicture","page","axios","get","then","res","data","ImageGalleryItem","image","largeImg","onPictureOpen","onClick","src","alt","ImageGallery","gallery","console","log","map","hit","webformatURL","largeImageURL","id","modal","document","querySelector","Modal","onEsc","code","onClose","onBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","largeImage","Button","App","color","height","width","timeout","React","total","showModal","isLoading","makeGallery","hits","prevState","scroll","alert","catch","error","message","finally","onFormSubmit","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prev","showBtnLoadMore","Math","ceil","prevProps","length","ReactDOM","render","getElementById"],"mappings":"sRAGMA,E,4MACJC,MAAQ,CACNC,KAAM,I,EAGRC,iBAAmB,SAAAC,GACjBA,EAAEC,iBACF,EAAKC,MAAMC,SAAS,EAAKN,MAAMC,MAC/B,EAAKM,SAAS,CAAEN,KAAM,M,EAGxBO,kBAAoB,SAAAL,GAClB,EAAKI,SAAS,CAAEN,KAAME,EAAEM,OAAOC,S,4CAGjC,WACE,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaL,SAAUM,KAAKV,iBAA5C,UACE,wBACEW,KAAK,SACLF,UAAU,oBAFZ,SAKE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUL,KAAKJ,kBACfE,MAAOE,KAAKZ,MAAMC,gB,GAlCNiB,aA0CTnB,I,iBC1CToB,EAAW,2BACXC,EAAU,qCAEHC,EAAW,SAACC,GAA2B,IAAdC,EAAa,uDAAN,EAC3C,OAAOC,IACJC,IADI,UAEAN,EAFA,cAEcG,EAFd,iBAEkCC,EAFlC,gBAE8CH,EAF9C,yDAIJM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCONC,EAfU,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,cAG3C,OACE,oBACErB,UAAU,mBACVsB,QAAS,WACPD,EAAcD,IAHlB,SAME,qBAAKG,IAAKJ,EAAOK,IAAI,IAAIxB,UAAU,8BCgB1ByB,EAzBM,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,QAASL,EAAoB,EAApBA,cAG/B,OAFAM,QAAQC,IAAI,OAAQF,GAGlB,oBAAI1B,UAAU,eAAd,SACG0B,EAAQG,KAAI,SAAAC,GAAG,OACd,cAAC,EAAD,CAEEX,MAAOW,EAAIC,aACXX,SAAUU,EAAIE,cACdX,cAAeA,GAHVS,EAAIG,UCPbC,EAAQC,SAASC,cAAc,UAE/BC,E,4MACJhD,MAAQ,G,EAURiD,MAAQ,SAAA9C,GACS,WAAXA,EAAE+C,MACJ,EAAK7C,MAAM8C,W,EAIfC,WAAa,SAAAjD,GACPA,EAAEkD,gBAAkBlD,EAAEM,QACxB,EAAKJ,MAAM8C,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAW3C,KAAKqC,S,kCAG1C,WACEK,OAAOE,oBAAoB,UAAW5C,KAAKqC,S,oBAe7C,WACE,OAAOQ,uBACL,qBAAK9C,UAAU,UAAUsB,QAASrB,KAAKwC,WAAvC,SACE,qBAAKzC,UAAU,QAAf,SACE,qBAAKuB,IAAKtB,KAAKP,MAAMqD,WAAYvB,IAAI,UAGzCU,O,GA9Bc3B,aAmCL8B,IC9BAW,EARA,SAAC,GAAkB,IAAhBtC,EAAe,EAAfA,SAChB,OACE,wBAAQR,KAAK,SAASoB,QAASZ,EAAUV,UAAU,SAAnD,wB,iBCFiBiD,E,4JAEnB,WACE,OACE,cAAC,IAAD,CACE/C,KAAK,YACLgD,MAAM,UACNC,OAAQ,GACRC,MAAO,IACPC,QAAS,U,GATgBC,IAAM/C,WCKjC0C,E,4MACJ5D,MAAQ,CACNC,KAAM,GACNoC,QAAS,GACTd,KAAM,EACN2C,MAAO,EACPvB,cAAe,GACfwB,WAAW,EACXC,WAAW,G,EAiBbC,YAAc,WACZ,MAAuB,EAAKrE,MAApBC,EAAR,EAAQA,KAAMsB,EAAd,EAAcA,KACd,EAAKhB,SAAS,CAAE6D,WAAW,IAE3B/C,EAASpB,EAAMsB,GACZG,MAAK,YAAsB,IAAnB4C,EAAkB,EAAlBA,KAAMJ,EAAY,EAAZA,MACb5B,QAAQC,IAAI,MAAO+B,GACnB,EAAK/D,UAAS,SAAAgE,GAAS,MAAK,CAC1BlC,QAAQ,GAAD,mBAAMkC,EAAUlC,SAAhB,YAA4BiC,IACnC/C,KAAMgD,EAAUhD,KAAO,EACvB2C,YAEF,EAAKM,SACLlC,QAAQC,IAAI,QAAS,EAAKvC,MAAMqC,SAClB,IAAV6B,GACFO,MAAM,4BAGTC,OAAM,SAAAC,GAAK,OAAIF,MAAME,EAAMC,YAC3BC,SAAQ,kBAAM,EAAKtE,SAAS,CAAE6D,WAAW,Q,EAG9CU,aAAe,SAAA7E,GACb,EAAKM,SAAS,CAAEN,OAAMsB,KAAM,K,EAI9BiD,OAAS,WACPlB,OAAOyB,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,YAAc,WACZ,EAAK7E,UAAS,SAAA8E,GAAI,MAAK,CACrBlB,WAAYkB,EAAKlB,e,EAIrBmB,gBAAkB,WAChB,OAAOC,KAAKC,KAAK,EAAKxF,MAAMkE,MAAQ,MAAQ,EAAKlE,MAAMuB,KAAO,G,EAGhES,cAAgB,SAAA0B,GACd,EAAKnD,SAAS,CAAEoC,cAAee,IAC/B,EAAK0B,e,wDA5DP,SAAmBK,EAAWlB,GAC5B,GAAIA,EAAUtE,OAASW,KAAKZ,MAAMC,KAMhC,OALAW,KAAKL,SAAS,CACZ8B,QAAS,UAGXzB,KAAKyD,gB,oBA6DT,WACE,MAAgEzD,KAAKZ,MAA7DqC,EAAR,EAAQA,QAAS8B,EAAjB,EAAiBA,UAAWxB,EAA5B,EAA4BA,cAAeyB,EAA3C,EAA2CA,UAAWF,EAAtD,EAAsDA,MAEtD,OACE,qCACE,cAAC,EAAD,CAAW5D,SAAUM,KAAKkE,eAEzBxC,QAAQC,IAAI,SAAUF,GACH,IAAnBA,EAAQqD,QACP,cAAC,EAAD,CAAcrD,QAASA,EAASL,cAAepB,KAAKoB,gBAErDmC,GACC,cAAC,EAAD,CAAOhB,QAASvC,KAAKwE,YAAa1B,WAAYf,IAE/CyB,GAAa,cAAC,EAAD,IACbxD,KAAK0E,mBAA+B,IAAVpB,GACzB,cAAC,EAAD,CAAQ7C,SAAUT,KAAKyD,qB,GA9FfnD,aAqGH0C,I,YCvGf+B,IAASC,OACP,mCACE,cAAC,EAAD,MAEF9C,SAAS+C,eAAe,W","file":"static/js/main.0a4ae88e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    find: '',\r\n  };\r\n\r\n  handleSearchForm = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.find);\r\n    this.setState({ find: '' });\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ find: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSearchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"SearchForm-button\"\r\n            // onSubmit={this.handleSearchForm}\r\n          >\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n            value={this.state.find}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","// import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23295311-073afe862d674061f7939d2e4';\r\n\r\nexport const getPhoto = (findPicture, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${findPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(res => res.data);\r\n};\r\n\r\n//     class ApiServices extends Component {\r\n//   state = {};\r\n\r\n//   componentDidMount() {\r\n//     fetch(\r\n//       'https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12',\r\n//     );\r\n//   }\r\n\r\n//   render() {\r\n//     return <h2>hello</h2>;\r\n//   }\r\n// };\r\n\r\n// export default ApiServices;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, largeImg, onPictureOpen }) => {\r\n  // console.log('GalItem', image);\r\n  // console.log('GalItemFunc', onPictureOpen);\r\n  return (\r\n    <li\r\n      className=\"ImageGalleryItem\"\r\n      onClick={() => {\r\n        onPictureOpen(largeImg);\r\n      }}\r\n    >\r\n      <img src={image} alt=\"#\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  onPictureOpen: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ gallery, onPictureOpen }) => {\r\n  console.log('ImgG', gallery);\r\n\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {gallery.map(hit => (\r\n        <ImageGalleryItem\r\n          key={hit.id}\r\n          image={hit.webformatURL}\r\n          largeImg={hit.largeImageURL}\r\n          onPictureOpen={onPictureOpen}\r\n        />\r\n      ))}\r\n\r\n      {/* {gallery.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          onPictureOpen={onPictureOpen}\r\n        />\r\n      ))} */}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onPictureOpen: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modal = document.querySelector('#modal');\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEsc);\r\n  }\r\n\r\n  onEsc = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.onBackdrop}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImage} alt=\"#\" />\r\n        </div>\r\n      </div>,\r\n      modal,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  largeImage: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ getPhoto }) => {\r\n  return (\r\n    <button type=\"button\" onClick={getPhoto} className=\"Button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  getPhoto: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={70}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './searchbar/Searchbar';\r\nimport { getPhoto } from '../services/ApiServices';\r\nimport ImageGallery from './imageGallery/ImageGallery';\r\nimport Modal from './modal/Modal';\r\nimport Button from './button/Button';\r\nimport Loader from './loader/Loader';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    find: '',\r\n    gallery: [],\r\n    page: 1,\r\n    total: 0,\r\n    largeImageURL: {},\r\n    showModal: false,\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.find !== this.state.find) {\r\n      this.setState({\r\n        gallery: [],\r\n        // page: 1,\r\n      });\r\n      this.makeGallery();\r\n      return;\r\n    }\r\n    // if (prevState.find === this.state.find) {\r\n    //   this.makeGallery();\r\n    // }\r\n  }\r\n\r\n  makeGallery = () => {\r\n    const { find, page } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    getPhoto(find, page)\r\n      .then(({ hits, total }) => {\r\n        console.log('hit', hits);\r\n        this.setState(prevState => ({\r\n          gallery: [...prevState.gallery, ...hits],\r\n          page: prevState.page + 1,\r\n          total,\r\n        }));\r\n        this.scroll();\r\n        console.log('state', this.state.gallery);\r\n        if (total === 0) {\r\n          alert('There are no pictures');\r\n        }\r\n      })\r\n      .catch(error => alert(error.message))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onFormSubmit = find => {\r\n    this.setState({ find, page: 1 });\r\n    // this.makeGallery();\r\n  };\r\n\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prev => ({\r\n      showModal: !prev.showModal,\r\n    }));\r\n  };\r\n\r\n  showBtnLoadMore = () => {\r\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\r\n  };\r\n\r\n  onPictureOpen = largeImage => {\r\n    this.setState({ largeImageURL: largeImage });\r\n    this.toggleModal();\r\n  };\r\n\r\n  // onLoadMore = () => {\r\n  //   this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  // };\r\n\r\n  render() {\r\n    const { gallery, showModal, largeImageURL, isLoading, total } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onFormSubmit} />\r\n\r\n        {console.log('render', gallery)}\r\n        {gallery.length !== 0 && (\r\n          <ImageGallery gallery={gallery} onPictureOpen={this.onPictureOpen} />\r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} largeImage={largeImageURL} />\r\n        )}\r\n        {isLoading && <Loader />}\r\n        {this.showBtnLoadMore() && total !== 0 && (\r\n          <Button getPhoto={this.makeGallery} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\nimport './styles.css/styles.css';\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}