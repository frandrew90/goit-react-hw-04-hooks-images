(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(8),r=n.n(o),i=n(11),s=n(4),u=n(1),l=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o),r("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value)},value:o})]})})},j=n(20),b=n.n(j),m="https://pixabay.com/api/",h="23295311-073afe862d674061f7939d2e4",O=function(e){var t=e.image,n=e.largeImg,c=e.onPictureOpen;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:function(){c(n)},children:Object(u.jsx)("img",{src:t,alt:"#",className:"ImageGalleryItem-image"})})},g=function(e){var t=e.gallery,n=e.onPictureOpen;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)(O,{image:e.webformatURL,largeImg:e.largeImageURL,onPictureOpen:n},e.id)}))})},f=document.querySelector("#modal"),d=function(e){var t=e.onClose,n=e.largeImage,a=function(e){"Escape"===e.code&&t()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:n,alt:"#"})})}),f)},p=function(e){var t=e.getPhoto;return Object(u.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load more"})},x=n(21),v=n(22),y=n(25),S=n(24),w=n(23),k=n.n(w),I=function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return Object(u.jsx)(k.a,{type:"ThreeDots",color:"#00BFFF",height:70,width:100,timeout:3e3})}}]),n}(a.a.Component),N=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),r=Object(s.a)(o,2),j=r[0],O=r[1],f=Object(c.useState)(1),x=Object(s.a)(f,2),v=x[0],y=x[1],S=Object(c.useState)(0),w=Object(s.a)(S,2),k=w[0],N=w[1],F=Object(c.useState)({}),C=Object(s.a)(F,2),E=C[0],P=C[1],L=Object(c.useState)(!1),T=Object(s.a)(L,2),B=T[0],G=T[1],q=Object(c.useState)(!1),D=Object(s.a)(q,2),J=D[0],M=D[1];Object(c.useEffect)((function(){n&&(O([]),R())}),[n]);var R=function(){M(!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return b.a.get("".concat(m,"?q=").concat(e,"&page=").concat(t,"&key=").concat(h,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data}))}(n,v).then((function(e){var t=e.hits,n=e.total;O([].concat(Object(i.a)(j),Object(i.a)(t))),y(v+1),N(n),1!==v&&U(),0===t.length&&alert("There are no pictures")})).catch((function(e){return alert(e.message)})).finally((function(){return M(!1)}))},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},_=function(){G(!B)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{onSubmit:function(e){O([]),a(e),y(1)}}),0!==j.length&&Object(u.jsx)(g,{gallery:j,onPictureOpen:function(e){P(e),_()}}),B&&Object(u.jsx)(d,{onClose:_,largeImage:E}),J&&Object(u.jsx)(I,{}),Math.ceil(k/12)!==v-1&&0!==k&&Object(u.jsx)(p,{getPhoto:R})]})};n(69),n(70);r.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.bd126b84.chunk.js.map